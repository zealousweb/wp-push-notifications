!(function(t){"use strict";t(document).on("click",".notificatio-img",function(e){e.preventDefault();var n=t(this),o=wp.media({title:"Insert image",library:{type:"image"},button:{text:"Use this image"},multiple:!1}).on("select",function(){var t=o.state().get("selection").first().toJSON();"png"==t.subtype||"jpg"==t.subtype||"jpeg"==t.subtype?(n.next().show(),n.html('<img src="'+t.url+'">').next().next().show(),n.next().next().val(t.id)):alert("Uploaded image is not supported, please try with new one...!")}).open()}),t(document).on("click",".notificatio-img-rmv",function(e){e.preventDefault();var n=t(this);n.next().val(""),n.hide().prev().html("Upload")}),t(document).on("submit",".send_notification",function(){return!!confirm("Do you really want to send the notification ?")}),jQuery("#wpn_post_icon").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#wpn_post_icon").pointer({pointerClass:"wp-pointer zealwpn-pointer",content:translate_string_wpn.wpn_post_icon,position:"left center"}).pointer("open")}),jQuery("#wpn_post_image").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#wpn_post_image").pointer({pointerClass:"wp-pointer zealwpn-pointer",content:translate_string_wpn.wpn_post_image,position:"left center"}).pointer("open")}),jQuery("#wpn_notification_desc").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#wpn_notification_desc").pointer({pointerClass:"wp-pointer zealwpn-pointer",content:translate_string_wpn.wpn_notification_desc,position:"left center"}).pointer("open")}),jQuery(document).ready(function($){const removeButton=$("#remove-json-file");if(removeButton.length){removeButton.on("click",function(e){e.preventDefault();const parentTd=$(this).closest("td");const message="Upload JSON file from your Firebase app configuration. You'll be able to get it from firebase app: Project settings -> Service Accounts -> Click on Generate new Private Key button.";parentTd.html(`<input name="notification_jsonfile" id="notification_jsonfile" type="file" class="regular-text" required /><br><b>${message}</b>`)})}})})(jQuery);
